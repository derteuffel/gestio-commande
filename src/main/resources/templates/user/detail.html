<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/4.1.3/css/bootstrap.min.css}" />
    <!--link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.bootstrap4.min.css"-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css">

    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script th:src="@{/webjars/bootstrap/4.1.3/js/bootstrap.min.js}"></script>
    <script th:src="@{/webjars/jquery/3.3.1/jquery.min.js}"></script>




    <title>Detail Utilisateur</title>
    <style>
        .nav-item{
            color: #ffffff;
        }

        #sticky-footer {
            flex-shrink: none;
        }
    </style>
</head>
<body>
<div th:replace="~{../templates/fragments/navbar :: header}"></div>
<div class="px-5 pt-2 mb-5 bg-light text-center">
    <div class="alert-primary py-4">
        <h2>Detail d'un Utilisateur</h2>
    </div>
    <div class="row py-2">
        <div  class="col-md-4">
            <div class="card">
                <div class="card-header">
                    Autres Informations
                </div>
                <div class="card-body">
                    <a th:href="@{/contract/contracts/}+${user.userId}" >Contrats avec l'Entreprise</a>
                    <hr>
                    <a class="btn" data-toggle="modal" data-target="#postesModal" th:attr="data-target='#postesModal'">Postes</a>
                </div>
            </div>
        </div>
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    Informations de l'agent
                </div>
                <div class="card-body">
                    <table class="table-bordered" style="width: 100%">
                        <thead>
                        <th>Designation</th>
                        <th>Valeur</th>
                        </thead>
                        <tbody class="text-left ">
                        <tr><td>Nom complet </td><td th:text="${user.name}"></td></tr>
                        <tr><td>Pseudonyme </td><td th:text="${user.login}"></td></tr>
                        <tr><td>Adresse E-mail </td><td th:text="${user.email}"></td></tr>
                        <tr><td>Date de naissance </td><td th:text="${#strings.substring(user.bornDate,0,10)}"></td></tr>
                        <tr><td>Sexe </td><td th:text="${user.sexe}"></td></tr>
                        <tr><td>Curiculum Vitae </td><td>
                            <a th:href="${user.cv}" th:text="${user.cv}"></a>
                        </td></tr>
                        <tr><td>Date d'engagement </td><td th:text="${#strings.substring(user.dateEngagement,0,10)}"></td></tr>
                        <tr><td>Contrat Actuel </td><td th:text="${user.contratActuel}"></td></tr>
                        <tr><td>Poste Actuel </td><td th:text="${user.posteActuel}"></td></tr>
                        <tr><td>Profession </td><td th:text="${user.profession}"></td></tr>

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="py-2  px-5">
        <div class="button pull-left">
            <a th:href="@{/user/users}" class="btn-outline-danger btn"><i class="fa fa-long-arrow-left"></i>&nbsp;Retour</a>
        </div>
        <div class="button pull-right">
            <!--a th:href="@{/article/edit/form/}+${article.articleId}" class="btn-outline-primary btn">Editer&nbsp;<i class="fa fa-pencil"></i></a-->
        </div>
    </div>
</div>
<!-- Modal Detail For Product Updated-->
<div class="modal fade" th:id="postesModal" tabindex="-1" role="dialog" aria-labelledby="postesModalLabel" >
    <div class="modal-dialog" >
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="postesModalLabel">Liste de postes occupees par le personnel</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" >
                <ul th:each="poste : ${user.postes}">
                    <li><span th:text="${poste}"></span></li>
                </ul>
                <hr>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
            </div>
        </div>
    </div>
</div>


<!-- Footer div -->
<footer th:replace="~{../templates/fragments/footer :: footer}"></footer>

<!-- Java Script files adding -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<scrip th:src="@{/fonts/dataTables/index.js}" ></scrip>
</body>
</html>